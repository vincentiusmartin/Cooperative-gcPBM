## Random Forest Regression and Support Vector Regression

Create a new virtual environment (as described in the top-level README) and run `pip install -r
requirements.txt` to install dependencies necessary for this portion of the project. Additionally,
ensure that `coopgcpbm` package is installed: from the top-level directory of this project run
`python setup.py develop`.

### To Run
With SLURM:
```
sbatch train_and_cv.sh <output directory path> <data config file path>
```
- output directory path: path to output results
- data config file path: path to a `.json` file containing paths to data (see `data-config.json`
for example).

This allows for a variety of grid searches with different feature sets to be executed 
simultaneously.

Without SLURM:
```
python3 automate_grid_search.py <job_id> <output_path> <data_config_path> <ets1_ets1|ets1_runx1>
<random_forest_regression|support_vector_regression> <feature_1>,<feature_2>,...,<feature_n>
```

Descriptions for the positional arguments in the above command:
- `job_id` (str): arbitrary ID #, primarily for use in a SLURM job
- `data_config_path`: path to the data config path (default is `data-config.json`, which contains paths into the `data` 
directory. Ensure that necessary files referred to in the data config exist. They can be generated by following the
README in the top-level directory of this project. Note that `lbled_o1_selected.csv`, which contains data for ETS1_ETS1,
is not generated by default. To generate this file, uncomment line 127 of `label_pr_ets_ets.py` and re-run the
associated script is described in the README.
- `output_path` (str): path to output results
- `experiment` (str): Either `ets1_ets1` or `ets1_runx1`
- `model` (str): either "random_forest_regression" or "support_vector_regression"
- `feature_list`: comma separated list of features to include. See "feature_sets" in
`train_and_cv.sh` for examples. Eg. `distance,affinity,orientation`.

`automate_grid_search.py` runs a grid search with one feature set. The values of the grid search
are defined within the script.
